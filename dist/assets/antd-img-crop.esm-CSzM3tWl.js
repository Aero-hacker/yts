import{r as c,Y as Qt,_ as er,w as De,Z as Re,$ as se,a0 as te,af as xe,al as _e,ak as Cr,ah as yr,ai as Sr,bE as wr,a9 as xr,aR as Rr,aP as Nt,p as Er,v as Mr,q as Pr,t as fe,T as _r,a1 as Pe,C as Dr,ay as Or,ba as zr,j as q,B as $r,M as Tr,c6 as Nr}from"./index-Cb_E7giR.js";import{U as Ar}from"./index-BQsW3lGh.js";var Ne=c.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function ut(t,n,e){return(t-n)/(e-n)}function yt(t,n,e,r){var o=ut(n,e,r),a={};switch(t){case"rtl":a.right="".concat(o*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(o*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(o*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(o*100,"%"),a.transform="translateX(-50%)";break}return a}function Le(t,n){return Array.isArray(t)?t[n]:t}var Fr=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete"],Wr=c.forwardRef(function(t,n){var e,r,o=t.prefixCls,a=t.value,i=t.valueIndex,s=t.onStartMove,u=t.style,l=t.render,d=t.dragging,g=t.onOffsetChange,b=t.onChangeComplete,C=Qt(t,Fr),f=c.useContext(Ne),p=f.min,v=f.max,m=f.direction,h=f.disabled,y=f.keyboard,E=f.range,M=f.tabIndex,z=f.ariaLabelForHandle,$=f.ariaLabelledByForHandle,_=f.ariaValueTextFormatterForHandle,D=f.styles,P=f.classNames,T="".concat(o,"-handle"),W=function(w){h||s(w,i)},L=function(w){if(!h&&y){var R=null;switch(w.which||w.keyCode){case te.LEFT:R=m==="ltr"||m==="btt"?-1:1;break;case te.RIGHT:R=m==="ltr"||m==="btt"?1:-1;break;case te.UP:R=m!=="ttb"?1:-1;break;case te.DOWN:R=m!=="ttb"?-1:1;break;case te.HOME:R="min";break;case te.END:R="max";break;case te.PAGE_UP:R=2;break;case te.PAGE_DOWN:R=-2;break}R!==null&&(w.preventDefault(),g(R,i))}},G=function(w){switch(w.which||w.keyCode){case te.LEFT:case te.RIGHT:case te.UP:case te.DOWN:case te.HOME:case te.END:case te.PAGE_UP:case te.PAGE_DOWN:b==null||b();break}},Y=yt(m,a,p,v),V=c.createElement("div",er({ref:n,className:De(T,(e={},Re(e,"".concat(T,"-").concat(i+1),E),Re(e,"".concat(T,"-dragging"),d),e),P.handle),style:se(se(se({},Y),u),D.handle),onMouseDown:W,onTouchStart:W,onKeyDown:L,onKeyUp:G,tabIndex:h?null:Le(M,i),role:"slider","aria-valuemin":p,"aria-valuemax":v,"aria-valuenow":a,"aria-disabled":h,"aria-label":Le(z,i),"aria-labelledby":Le($,i),"aria-valuetext":(r=Le(_,i))===null||r===void 0?void 0:r(a),"aria-orientation":m==="ltr"||m==="rtl"?"horizontal":"vertical"},C));return l&&(V=l(V,{index:i,prefixCls:o,value:a,dragging:d})),V}),Lr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],jr=c.forwardRef(function(t,n){var e=t.prefixCls,r=t.style,o=t.onStartMove,a=t.onOffsetChange,i=t.values,s=t.handleRender,u=t.draggingIndex,l=Qt(t,Lr),d=c.useRef({});return c.useImperativeHandle(n,function(){return{focus:function(b){var C;(C=d.current[b])===null||C===void 0||C.focus()}}}),c.createElement(c.Fragment,null,i.map(function(g,b){return c.createElement(Wr,er({ref:function(f){f?d.current[b]=f:delete d.current[b]},dragging:u===b,prefixCls:e,style:Le(r,b),key:b,value:g,valueIndex:b,onStartMove:o,onOffsetChange:a,render:s},l))}))});function At(t){var n="touches"in t?t.touches[0]:t;return{pageX:n.pageX,pageY:n.pageY}}function Hr(t,n,e,r,o,a,i,s,u){var l=c.useState(null),d=xe(l,2),g=d[0],b=d[1],C=c.useState(-1),f=xe(C,2),p=f[0],v=f[1],m=c.useState(e),h=xe(m,2),y=h[0],E=h[1],M=c.useState(e),z=xe(M,2),$=z[0],_=z[1],D=c.useRef(null),P=c.useRef(null);c.useEffect(function(){p===-1&&E(e)},[e,p]),c.useEffect(function(){return function(){document.removeEventListener("mousemove",D.current),document.removeEventListener("mouseup",P.current),document.removeEventListener("touchmove",D.current),document.removeEventListener("touchend",P.current)}},[]);var T=function(x,w){y.some(function(R,j){return R!==x[j]})&&(w!==void 0&&b(w),E(x),i(x))},W=function(x,w){if(x===-1){var R=$[0],j=$[$.length-1],me=r-R,ge=o-j,ne=w*(o-r);ne=Math.max(ne,me),ne=Math.min(ne,ge);var be=a(R+ne);ne=be-R;var oe=$.map(function(N){return N+ne});T(oe)}else{var ce=(o-r)*w,pe=_e(y);pe[x]=$[x];var ae=u(pe,ce,x,"dist");T(ae.values,ae.value)}},L=c.useRef(W);L.current=W;var G=function(x,w,R){x.stopPropagation();var j=R||e,me=j[w];v(w),b(me),_(j);var ge=At(x),ne=ge.pageX,be=ge.pageY,oe=function(ae){ae.preventDefault();var N=At(ae),H=N.pageX,k=N.pageY,O=H-ne,Q=k-be,B=t.current.getBoundingClientRect(),A=B.width,I=B.height,Z;switch(n){case"btt":Z=-Q/I;break;case"ttb":Z=Q/I;break;case"rtl":Z=-O/A;break;default:Z=O/A}L.current(w,Z)},ce=function pe(ae){ae.preventDefault(),document.removeEventListener("mouseup",pe),document.removeEventListener("mousemove",oe),document.removeEventListener("touchend",pe),document.removeEventListener("touchmove",oe),D.current=null,P.current=null,v(-1),s()};document.addEventListener("mouseup",ce),document.addEventListener("mousemove",oe),document.addEventListener("touchend",ce),document.addEventListener("touchmove",oe),D.current=oe,P.current=ce},Y=c.useMemo(function(){var V=_e(e).sort(function(w,R){return w-R}),x=_e(y).sort(function(w,R){return w-R});return V.every(function(w,R){return w===x[R]})?y:e},[e,y]);return[p,g,Y,G]}function kr(t,n,e,r,o,a){var i=c.useCallback(function(C){var f=isFinite(C)?C:t;return f=Math.min(n,C),f=Math.max(t,f),f},[t,n]),s=c.useCallback(function(C){if(e!==null){var f=t+Math.round((i(C)-t)/e)*e,p=function(y){return(String(y).split(".")[1]||"").length},v=Math.max(p(e),p(n),p(t)),m=Number(f.toFixed(v));return t<=m&&m<=n?m:null}return null},[e,t,n,i]),u=c.useCallback(function(C){var f=i(C),p=r.map(function(h){return h.value});e!==null&&p.push(s(C)),p.push(t,n);var v=p[0],m=n-t;return p.forEach(function(h){var y=Math.abs(f-h);y<=m&&(v=h,m=y)}),v},[t,n,r,e,i,s]),l=function C(f,p,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof p=="number"){var h,y=f[v],E=y+p,M=[];r.forEach(function(P){M.push(P.value)}),M.push(t,n),M.push(s(y));var z=p>0?1:-1;m==="unit"?M.push(s(y+z*e)):M.push(s(E)),M=M.filter(function(P){return P!==null}).filter(function(P){return p<0?P<=y:P>=y}),m==="unit"&&(M=M.filter(function(P){return P!==y}));var $=m==="unit"?y:E;h=M[0];var _=Math.abs(h-$);if(M.forEach(function(P){var T=Math.abs(P-$);T<_&&(h=P,_=T)}),h===void 0)return p<0?t:n;if(m==="dist")return h;if(Math.abs(p)>1){var D=_e(f);return D[v]=h,C(D,p-z,v,m)}return h}else{if(p==="min")return t;if(p==="max")return n}},d=function(f,p,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",h=f[v],y=l(f,p,v,m);return{value:y,changed:y!==h}},g=function(f){return a===null&&f===0||typeof a=="number"&&f<a},b=function(f,p,v){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",h=f.map(u),y=h[v],E=l(h,p,v,m);if(h[v]=E,o===!1){var M=a||0;v>0&&h[v-1]!==y&&(h[v]=Math.max(h[v],h[v-1]+M)),v<h.length-1&&h[v+1]!==y&&(h[v]=Math.min(h[v],h[v+1]-M))}else if(typeof a=="number"||a===null){for(var z=v+1;z<h.length;z+=1)for(var $=!0;g(h[z]-h[z-1])&&$;){var _=d(h,1,z);h[z]=_.value,$=_.changed}for(var D=v;D>0;D-=1)for(var P=!0;g(h[D]-h[D-1])&&P;){var T=d(h,-1,D-1);h[D-1]=T.value,P=T.changed}for(var W=h.length-1;W>0;W-=1)for(var L=!0;g(h[W]-h[W-1])&&L;){var G=d(h,-1,W-1);h[W-1]=G.value,L=G.changed}for(var Y=0;Y<h.length-1;Y+=1)for(var V=!0;g(h[Y+1]-h[Y])&&V;){var x=d(h,1,Y+1);h[Y+1]=x.value,V=x.changed}}return{value:h[v],values:h}};return[u,b]}function Br(t){var n=t.prefixCls,e=t.style,r=t.children,o=t.value,a=t.onClick,i=c.useContext(Ne),s=i.min,u=i.max,l=i.direction,d=i.includedStart,g=i.includedEnd,b=i.included,C="".concat(n,"-text"),f=yt(l,o,s,u);return c.createElement("span",{className:De(C,Re({},"".concat(C,"-active"),b&&d<=o&&o<=g)),style:se(se({},f),e),onMouseDown:function(v){v.stopPropagation()},onClick:function(){a(o)}},r)}function Ir(t){var n=t.prefixCls,e=t.marks,r=t.onClick,o="".concat(n,"-mark");return e.length?c.createElement("div",{className:o},e.map(function(a){var i=a.value,s=a.style,u=a.label;return c.createElement(Br,{key:i,prefixCls:o,style:s,value:i,onClick:r},u)})):null}function Zr(t){var n=t.prefixCls,e=t.value,r=t.style,o=t.activeStyle,a=c.useContext(Ne),i=a.min,s=a.max,u=a.direction,l=a.included,d=a.includedStart,g=a.includedEnd,b="".concat(n,"-dot"),C=l&&d<=e&&e<=g,f=se(se({},yt(u,e,i,s)),typeof r=="function"?r(e):r);return C&&(f=se(se({},f),typeof o=="function"?o(e):o)),c.createElement("span",{className:De(b,Re({},"".concat(b,"-active"),C)),style:f})}function Ur(t){var n=t.prefixCls,e=t.marks,r=t.dots,o=t.style,a=t.activeStyle,i=c.useContext(Ne),s=i.min,u=i.max,l=i.step,d=c.useMemo(function(){var g=new Set;if(e.forEach(function(C){g.add(C.value)}),r&&l!==null)for(var b=s;b<=u;)g.add(b),b+=l;return Array.from(g)},[s,u,l,r,e]);return c.createElement("div",{className:"".concat(n,"-step")},d.map(function(g){return c.createElement(Zr,{prefixCls:n,key:g,value:g,style:o,activeStyle:a})}))}function Ft(t){var n,e=t.prefixCls,r=t.style,o=t.start,a=t.end,i=t.index,s=t.onStartMove,u=t.replaceCls,l=c.useContext(Ne),d=l.direction,g=l.min,b=l.max,C=l.disabled,f=l.range,p=l.classNames,v="".concat(e,"-track"),m=ut(o,g,b),h=ut(a,g,b),y=function($){!C&&s&&s($,-1)},E={};switch(d){case"rtl":E.right="".concat(m*100,"%"),E.width="".concat(h*100-m*100,"%");break;case"btt":E.bottom="".concat(m*100,"%"),E.height="".concat(h*100-m*100,"%");break;case"ttb":E.top="".concat(m*100,"%"),E.height="".concat(h*100-m*100,"%");break;default:E.left="".concat(m*100,"%"),E.width="".concat(h*100-m*100,"%")}var M=u||De(v,(n={},Re(n,"".concat(v,"-").concat(i+1),i!==null&&f),Re(n,"".concat(e,"-track-draggable"),s),n),p.track);return c.createElement("div",{className:M,style:se(se({},E),r),onMouseDown:y,onTouchStart:y})}function Xr(t){var n=t.prefixCls,e=t.style,r=t.values,o=t.startPoint,a=t.onStartMove,i=c.useContext(Ne),s=i.included,u=i.range,l=i.min,d=i.styles,g=i.classNames,b=c.useMemo(function(){if(!u){if(r.length===0)return[];var f=o??l,p=r[0];return[{start:Math.min(f,p),end:Math.max(f,p)}]}for(var v=[],m=0;m<r.length-1;m+=1)v.push({start:r[m],end:r[m+1]});return v},[r,u,o,l]),C=null;return(g.tracks||d.tracks)&&(C=c.createElement(Ft,{index:null,prefixCls:n,start:b[0].start,end:b[b.length-1].end,replaceCls:De(g.tracks,"".concat(n,"-tracks")),style:d.tracks})),s?c.createElement(c.Fragment,null,C,b.map(function(f,p){var v=f.start,m=f.end;return c.createElement(Ft,{index:p,prefixCls:n,style:se(se({},Le(e,p)),d.track),start:v,end:m,key:p,onStartMove:a})})):null}var qr=c.forwardRef(function(t,n){var e,r=t.prefixCls,o=r===void 0?"rc-slider":r,a=t.className,i=t.style,s=t.classNames,u=t.styles,l=t.disabled,d=l===void 0?!1:l,g=t.keyboard,b=g===void 0?!0:g,C=t.autoFocus,f=t.onFocus,p=t.onBlur,v=t.min,m=v===void 0?0:v,h=t.max,y=h===void 0?100:h,E=t.step,M=E===void 0?1:E,z=t.value,$=t.defaultValue,_=t.range,D=t.count,P=t.onChange,T=t.onBeforeChange,W=t.onAfterChange,L=t.onChangeComplete,G=t.allowCross,Y=G===void 0?!0:G,V=t.pushable,x=V===void 0?!1:V,w=t.draggableTrack,R=t.reverse,j=t.vertical,me=t.included,ge=me===void 0?!0:me,ne=t.startPoint,be=t.trackStyle,oe=t.handleStyle,ce=t.railStyle,pe=t.dotStyle,ae=t.activeDotStyle,N=t.marks,H=t.dots,k=t.handleRender,O=t.tabIndex,Q=O===void 0?0:O,B=t.ariaLabelForHandle,A=t.ariaLabelledByForHandle,I=t.ariaValueTextFormatterForHandle,Z=c.useRef(),de=c.useRef(),le=c.useMemo(function(){return j?R?"ttb":"btt":R?"rtl":"ltr"},[R,j]),U=c.useMemo(function(){return isFinite(m)?m:0},[m]),ve=c.useMemo(function(){return isFinite(y)?y:100},[y]),he=c.useMemo(function(){return M!==null&&M<=0?1:M},[M]),Ce=c.useMemo(function(){return typeof x=="boolean"?x?he:!1:x>=0?x:!1},[x,he]),ee=c.useMemo(function(){var X=Object.keys(N||{});return X.map(function(F){var S=N[F],J={value:Number(F)};return S&&Cr(S)==="object"&&!c.isValidElement(S)&&("label"in S||"style"in S)?(J.style=S.style,J.label=S.label):J.label=S,J}).filter(function(F){var S=F.label;return S||typeof S=="number"}).sort(function(F,S){return F.value-S.value})},[N]),ie=kr(U,ve,he,ee,Y,Ce),He=xe(ie,2),Oe=He[0],Ue=He[1],nt=yr($,{value:z}),Xe=xe(nt,2),Ee=Xe[0],lr=Xe[1],ye=c.useMemo(function(){var X=Ee==null?[]:Array.isArray(Ee)?Ee:[Ee],F=xe(X,1),S=F[0],J=S===void 0?U:S,K=Ee===null?[]:[J];if(_){if(K=_e(X),D||Ee===void 0){var Se=D>=0?D+1:2;for(K=K.slice(0,Se);K.length<Se;){var ze;K.push((ze=K[K.length-1])!==null&&ze!==void 0?ze:U)}}K.sort(function($e,Me){return $e-Me})}return K.forEach(function($e,Me){K[Me]=Oe($e)}),K},[Ee,_,U,D,Oe]),ke=c.useRef(ye);ke.current=ye;var Ae=function(F){return _?F:F[0]},ot=function(F){var S=_e(F).sort(function(J,K){return J-K});P&&!wr(S,ke.current,!0)&&P(Ae(S)),lr(S)},St=function(){W==null||W(Ae(ke.current)),Sr(!W,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(Ae(ke.current))},ur=Hr(de,le,ye,U,ve,Oe,ot,St,Ue),qe=xe(ur,4),wt=qe[0],dr=qe[1],at=qe[2],xt=qe[3],Rt=function(F,S){if(!d){var J=0,K=ve-U;ye.forEach(function(ze,$e){var Me=Math.abs(F-ze);Me<=K&&(K=Me,J=$e)});var Se=_e(ye);Se[J]=F,_&&!ye.length&&D===void 0&&Se.push(F),T==null||T(Ae(Se)),ot(Se),S&&xt(S,J,Se)}},hr=function(F){F.preventDefault();var S=de.current.getBoundingClientRect(),J=S.width,K=S.height,Se=S.left,ze=S.top,$e=S.bottom,Me=S.right,$t=F.clientX,Tt=F.clientY,Be;switch(le){case"btt":Be=($e-Tt)/K;break;case"ttb":Be=(Tt-ze)/K;break;case"rtl":Be=(Me-$t)/J;break;default:Be=($t-Se)/J}var br=U+Be*(ve-U);Rt(Oe(br),F)},fr=c.useState(null),Et=xe(fr,2),it=Et[0],Mt=Et[1],pr=function(F,S){if(!d){var J=Ue(ye,F,S);T==null||T(Ae(ye)),ot(J.values),Mt(J.value)}};c.useEffect(function(){if(it!==null){var X=ye.indexOf(it);X>=0&&Z.current.focus(X)}Mt(null)},[it]);var vr=c.useMemo(function(){return w&&he===null?!1:w},[w,he]),Pt=function(F,S){xt(F,S),T==null||T(Ae(ke.current))},_t=wt!==-1;c.useEffect(function(){if(!_t){var X=ye.lastIndexOf(dr);Z.current.focus(X)}},[_t]);var Fe=c.useMemo(function(){return _e(at).sort(function(X,F){return X-F})},[at]),mr=c.useMemo(function(){return _?[Fe[0],Fe[Fe.length-1]]:[U,Fe[0]]},[Fe,_,U]),Dt=xe(mr,2),Ot=Dt[0],zt=Dt[1];c.useImperativeHandle(n,function(){return{focus:function(){Z.current.focus(0)},blur:function(){var F=document,S=F.activeElement;de.current.contains(S)&&(S==null||S.blur())}}}),c.useEffect(function(){C&&Z.current.focus(0)},[]);var gr=c.useMemo(function(){return{min:U,max:ve,direction:le,disabled:d,keyboard:b,step:he,included:ge,includedStart:Ot,includedEnd:zt,range:_,tabIndex:Q,ariaLabelForHandle:B,ariaLabelledByForHandle:A,ariaValueTextFormatterForHandle:I,styles:u||{},classNames:s||{}}},[U,ve,le,d,b,he,ge,Ot,zt,_,Q,B,A,I,u,s]);return c.createElement(Ne.Provider,{value:gr},c.createElement("div",{ref:de,className:De(o,a,(e={},Re(e,"".concat(o,"-disabled"),d),Re(e,"".concat(o,"-vertical"),j),Re(e,"".concat(o,"-horizontal"),!j),Re(e,"".concat(o,"-with-marks"),ee.length),e)),style:i,onMouseDown:hr},c.createElement("div",{className:De("".concat(o,"-rail"),s==null?void 0:s.rail),style:se(se({},ce),u==null?void 0:u.rail)}),c.createElement(Xr,{prefixCls:o,style:be,values:Fe,startPoint:ne,onStartMove:vr?Pt:null}),c.createElement(Ur,{prefixCls:o,marks:ee,dots:H,style:pe,activeStyle:ae}),c.createElement(jr,{ref:Z,prefixCls:o,style:oe,values:at,draggingIndex:wt,onStartMove:Pt,onOffsetChange:pr,onFocus:f,onBlur:p,handleRender:k,onChangeComplete:St}),c.createElement(Ir,{prefixCls:o,marks:ee,onClick:Rt})))});const Gr=c.forwardRef((t,n)=>{const{open:e}=t,r=c.useRef(null),o=c.useRef(null);function a(){Nt.cancel(o.current),o.current=null}function i(){o.current=Nt(()=>{var s;(s=r.current)===null||s===void 0||s.forceAlign(),o.current=null})}return c.useEffect(()=>(e?i():a(),a),[e,t.title]),c.createElement(xr,Object.assign({ref:Rr(r,n)},t))}),Yr=Gr,Vr=t=>{const{componentCls:n,antCls:e,controlSize:r,dotSize:o,marginFull:a,marginPart:i,colorFillContentHover:s,handleColorDisabled:u,calc:l}=t;return{[n]:Object.assign(Object.assign({},Pr(t)),{position:"relative",height:r,margin:`${fe(i)} ${fe(a)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${fe(a)} ${fe(i)}`},[`${n}-rail`]:{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:`background-color ${t.motionDurationMid}`},[`${n}-track,${n}-tracks`]:{position:"absolute",transition:`background-color ${t.motionDurationMid}`},[`${n}-track`]:{backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS},[`${n}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${n}-rail`]:{backgroundColor:t.railHoverBg},[`${n}-track`]:{backgroundColor:t.trackHoverBg},[`${n}-dot`]:{borderColor:s},[`${n}-handle::after`]:{boxShadow:`0 0 0 ${fe(t.handleLineWidth)} ${t.colorPrimaryBorderHover}`},[`${n}-dot-active`]:{borderColor:t.dotActiveBorderColor}},[`${n}-handle`]:{position:"absolute",width:t.handleSize,height:t.handleSize,outline:"none","&::before":{content:'""',position:"absolute",insetInlineStart:l(t.handleLineWidth).mul(-1).equal(),insetBlockStart:l(t.handleLineWidth).mul(-1).equal(),width:l(t.handleSize).add(l(t.handleLineWidth).mul(2)).equal(),height:l(t.handleSize).add(l(t.handleLineWidth).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:t.handleSize,height:t.handleSize,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${fe(t.handleLineWidth)} ${t.handleColor}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${t.motionDurationMid},
            inset-block-start ${t.motionDurationMid},
            width ${t.motionDurationMid},
            height ${t.motionDurationMid},
            box-shadow ${t.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:l(t.handleSizeHover).sub(t.handleSize).div(2).add(t.handleLineWidthHover).mul(-1).equal(),insetBlockStart:l(t.handleSizeHover).sub(t.handleSize).div(2).add(t.handleLineWidthHover).mul(-1).equal(),width:l(t.handleSizeHover).add(l(t.handleLineWidthHover).mul(2)).equal(),height:l(t.handleSizeHover).add(l(t.handleLineWidthHover).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${fe(t.handleLineWidthHover)} ${t.handleActiveColor}`,width:t.handleSizeHover,height:t.handleSizeHover,insetInlineStart:t.calc(t.handleSize).sub(t.handleSizeHover).div(2).equal(),insetBlockStart:t.calc(t.handleSize).sub(t.handleSizeHover).div(2).equal()}}},[`${n}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${n}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${n}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${n}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:t.colorBgElevated,border:`${fe(t.handleLineWidth)} solid ${t.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}},[`&${n}-disabled`]:{cursor:"not-allowed",[`${n}-rail`]:{backgroundColor:`${t.railBg} !important`},[`${n}-track`]:{backgroundColor:`${t.trackBgDisabled} !important`},[`
          ${n}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${n}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:t.handleSize,height:t.handleSize,boxShadow:`0 0 0 ${fe(t.handleLineWidth)} ${u}`,insetInlineStart:0,insetBlockStart:0},[`
          ${n}-mark-text,
          ${n}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${e}-tooltip-inner`]:{minWidth:"unset"}})}},tr=(t,n)=>{const{componentCls:e,railSize:r,handleSize:o,dotSize:a,marginFull:i,calc:s}=t,u=n?"paddingBlock":"paddingInline",l=n?"width":"height",d=n?"height":"width",g=n?"insetBlockStart":"insetInlineStart",b=n?"top":"insetInlineStart",C=s(r).mul(3).sub(o).div(2).equal(),f=s(o).sub(r).div(2).equal(),p=n?{borderWidth:`${fe(f)} 0`,transform:`translateY(${fe(s(f).mul(-1).equal())})`}:{borderWidth:`0 ${fe(f)}`,transform:`translateX(${fe(t.calc(f).mul(-1).equal())})`};return{[u]:r,[d]:s(r).mul(3).equal(),[`${e}-rail`]:{[l]:"100%",[d]:r},[`${e}-track,${e}-tracks`]:{[d]:r},[`${e}-track-draggable`]:Object.assign({},p),[`${e}-handle`]:{[g]:C},[`${e}-mark`]:{insetInlineStart:0,top:0,[b]:s(r).mul(3).add(n?0:i).equal(),[l]:"100%"},[`${e}-step`]:{insetInlineStart:0,top:0,[b]:r,[l]:"100%",[d]:r},[`${e}-dot`]:{position:"absolute",[g]:s(r).sub(a).div(2).equal()}}},Kr=t=>{const{componentCls:n,marginPartWithMark:e}=t;return{[`${n}-horizontal`]:Object.assign(Object.assign({},tr(t,!0)),{[`&${n}-with-marks`]:{marginBottom:e}})}},Jr=t=>{const{componentCls:n}=t;return{[`${n}-vertical`]:Object.assign(Object.assign({},tr(t,!1)),{height:"100%"})}},Qr=t=>{const e=t.controlHeightLG/4,r=t.controlHeightSM/2,o=t.lineWidth+1,a=t.lineWidth+1*3;return{controlSize:e,railSize:4,handleSize:e,handleSizeHover:r,dotSize:8,handleLineWidth:o,handleLineWidthHover:a,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:t.colorPrimary,handleColorDisabled:new _r(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexShortString(),dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}},en=Er("Slider",t=>{const n=Mr(t,{marginPart:t.calc(t.controlHeight).sub(t.controlSize).div(2).equal(),marginFull:t.calc(t.controlSize).div(2).equal(),marginPartWithMark:t.calc(t.controlHeightLG).sub(t.controlSize).equal()});return[Vr(n),Kr(n),Jr(n)]},Qr);var tn=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e};function rn(t,n){return t||t===null?t:n||n===null?n:e=>typeof e=="number"?e.toString():""}const nn=Pe.forwardRef((t,n)=>{const{prefixCls:e,range:r,className:o,rootClassName:a,style:i,disabled:s,tooltipPrefixCls:u,tipFormatter:l,tooltipVisible:d,getTooltipPopupContainer:g,tooltipPlacement:b}=t,C=tn(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement"]),{direction:f,slider:p,getPrefixCls:v,getPopupContainer:m}=Pe.useContext(Dr),h=Pe.useContext(Or),y=s??h,[E,M]=Pe.useState({}),z=(x,w)=>{M(R=>Object.assign(Object.assign({},R),{[x]:w}))},$=(x,w)=>x||(w?f==="rtl"?"left":"right":"top"),_=v("slider",e),[D,P,T]=en(_),W=De(o,p==null?void 0:p.className,a,{[`${_}-rtl`]:f==="rtl"},P,T);f==="rtl"&&!C.vertical&&(C.reverse=!C.reverse);const[L,G]=Pe.useMemo(()=>r?typeof r=="object"?[!0,r.draggableTrack]:[!0,!1]:[!1],[r]),Y=(x,w)=>{var R;const{index:j,dragging:me}=w,{tooltip:ge={},vertical:ne}=t,be=Object.assign({},ge),{open:oe,placement:ce,getPopupContainer:pe,prefixCls:ae,formatter:N}=be,H=rn(N,l),k=H?E[j]||me:!1,O=(R=oe??d)!==null&&R!==void 0?R:oe===void 0&&k,Q=Object.assign(Object.assign({},x.props),{onMouseEnter:()=>z(j,!0),onMouseLeave:()=>z(j,!1),onFocus:B=>{var A;z(j,!0),(A=C.onFocus)===null||A===void 0||A.call(C,B)},onBlur:B=>{var A;z(j,!1),(A=C.onBlur)===null||A===void 0||A.call(C,B)}});return Pe.createElement(Yr,Object.assign({},be,{prefixCls:v("tooltip",ae??u),title:H?H(w.value):"",open:O,placement:$(ce??b,ne),key:j,overlayClassName:`${_}-tooltip`,getPopupContainer:pe||g||m}),Pe.cloneElement(x,Q))},V=Object.assign(Object.assign({},p==null?void 0:p.style),i);return D(Pe.createElement(qr,Object.assign({},C,{step:C.step,range:L,draggableTrack:G,className:W,style:V,disabled:y,ref:n,prefixCls:_,handleRender:Y})))}),st=nn;var dt=function(t,n){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},dt(t,n)};function on(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");dt(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var re=function(){return re=Object.assign||function(n){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},re.apply(this,arguments)};function an(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e}function Ge(t,n,e,r){function o(a){return a instanceof e?a:new e(function(i){i(a)})}return new(e||(e=Promise))(function(a,i){function s(d){try{l(r.next(d))}catch(g){i(g)}}function u(d){try{l(r.throw(d))}catch(g){i(g)}}function l(d){d.done?a(d.value):o(d.value).then(s,u)}l((r=r.apply(t,n||[])).next())})}const sn=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Wt=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const n=t.match(sn);if(!n)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return n.shift(),n},Lt=t=>t==="*"||t==="x"||t==="X",jt=t=>{const n=parseInt(t,10);return isNaN(n)?t:n},cn=(t,n)=>typeof t!=typeof n?[String(t),String(n)]:[t,n],ln=(t,n)=>{if(Lt(t)||Lt(n))return 0;const[e,r]=cn(jt(t),jt(n));return e>r?1:e<r?-1:0},Ht=(t,n)=>{for(let e=0;e<Math.max(t.length,n.length);e++){const r=ln(t[e]||"0",n[e]||"0");if(r!==0)return r}return 0},un=(t,n)=>{const e=Wt(t),r=Wt(n),o=e.pop(),a=r.pop(),i=Ht(e,r);return i!==0?i:o&&a?Ht(o.split("."),a.split(".")):o||a?o?-1:1:0};var kt=!1,Te,ht,ft,Je,Qe,rr,et,pt,vt,mt,nr,gt,bt,or,ar;function ue(){if(!kt){kt=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),e=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(gt=/\b(iPhone|iP[ao]d)/.exec(t),bt=/\b(iP[ao]d)/.exec(t),mt=/Android/i.exec(t),or=/FBAN\/\w+;/i.exec(t),ar=/Mobile/i.exec(t),nr=!!/Win64/.exec(t),n){Te=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,Te&&document&&document.documentMode&&(Te=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);rr=r?parseFloat(r[1])+4:Te,ht=n[2]?parseFloat(n[2]):NaN,ft=n[3]?parseFloat(n[3]):NaN,Je=n[4]?parseFloat(n[4]):NaN,Je?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),Qe=n&&n[1]?parseFloat(n[1]):NaN):Qe=NaN}else Te=ht=ft=Qe=Je=NaN;if(e){if(e[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);et=o?parseFloat(o[1].replace("_",".")):!0}else et=!1;pt=!!e[2],vt=!!e[3]}else et=pt=vt=!1}}var Ct={ie:function(){return ue()||Te},ieCompatibilityMode:function(){return ue()||rr>Te},ie64:function(){return Ct.ie()&&nr},firefox:function(){return ue()||ht},opera:function(){return ue()||ft},webkit:function(){return ue()||Je},safari:function(){return Ct.webkit()},chrome:function(){return ue()||Qe},windows:function(){return ue()||pt},osx:function(){return ue()||et},linux:function(){return ue()||vt},iphone:function(){return ue()||gt},mobile:function(){return ue()||gt||bt||mt||ar},nativeApp:function(){return ue()||or},android:function(){return ue()||mt},ipad:function(){return ue()||bt}},dn=Ct,Ye=!!(typeof window<"u"&&window.document&&window.document.createElement),hn={canUseDOM:Ye,canUseWorkers:typeof Worker<"u",canUseEventListeners:Ye&&!!(window.addEventListener||window.attachEvent),canUseViewport:Ye&&!!window.screen,isInWorker:!Ye},fn=hn,ir=fn,sr;ir.canUseDOM&&(sr=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function pn(t,n){if(!ir.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+t,r=e in document;if(!r){var o=document.createElement("div");o.setAttribute(e,"return;"),r=typeof o[e]=="function"}return!r&&sr&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var vn=pn,mn=dn,gn=vn,Bt=10,It=40,Zt=800;function cr(t){var n=0,e=0,r=0,o=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=e,e=0),r=n*Bt,o=e*Bt,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(t.deltaMode==1?(r*=It,o*=It):(r*=Zt,o*=Zt)),r&&!n&&(n=r<1?-1:1),o&&!e&&(e=o<1?-1:1),{spinX:n,spinY:e,pixelX:r,pixelY:o}}cr.getEventType=function(){return mn.firefox()?"DOMMouseScroll":gn("wheel")?"wheel":"mousewheel"};var bn=cr,Cn=bn;const yn=zr(Cn);function Sn(t,n,e,r,o,a){a===void 0&&(a=0);var i=je(t,n,a),s=i.width,u=i.height,l=Math.min(s,e),d=Math.min(u,r);return l>d*o?{width:d*o,height:d}:{width:l,height:l/o}}function wn(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Ve(t,n,e,r,o){o===void 0&&(o=0);var a=je(n.width,n.height,o),i=a.width,s=a.height;return{x:Ut(t.x,i,e.width,r),y:Ut(t.y,s,e.height,r)}}function Ut(t,n,e,r){var o=n*r/2-e/2;return rt(t,-o,o)}function Xt(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function qt(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function xn(t,n,e,r,o,a,i){a===void 0&&(a=0),i===void 0&&(i=!0);var s=i?Rn:En,u=je(n.width,n.height,a),l=je(n.naturalWidth,n.naturalHeight,a),d={x:s(100,((u.width-e.width/o)/2-t.x/o)/u.width*100),y:s(100,((u.height-e.height/o)/2-t.y/o)/u.height*100),width:s(100,e.width/u.width*100/o),height:s(100,e.height/u.height*100/o)},g=Math.round(s(l.width,d.width*l.width/100)),b=Math.round(s(l.height,d.height*l.height/100)),C=l.width>=l.height*r,f=C?{width:Math.round(b*r),height:b}:{width:g,height:Math.round(g/r)},p=re(re({},f),{x:Math.round(s(l.width-f.width,d.x*l.width/100)),y:Math.round(s(l.height-f.height,d.y*l.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:p}}function Rn(t,n){return Math.min(t,Math.max(0,n))}function En(t,n){return n}function Mn(t,n,e,r,o,a){var i=je(n.width,n.height,e),s=rt(r.width/i.width*(100/t.width),o,a),u={x:s*i.width/2-r.width/2-i.width*s*(t.x/100),y:s*i.height/2-r.height/2-i.height*s*(t.y/100)};return{crop:u,zoom:s}}function Pn(t,n,e){var r=wn(n);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function _n(t,n,e,r,o,a){e===void 0&&(e=0);var i=je(n.naturalWidth,n.naturalHeight,e),s=rt(Pn(t,n,r),o,a),u=r.height>r.width?r.height/t.height:r.width/t.width,l={x:((i.width-t.width)/2-t.x)*u,y:((i.height-t.height)/2-t.y)*u};return{crop:l,zoom:s}}function Gt(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function Dn(t){return t*Math.PI/180}function je(t,n,e){var r=Dn(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*n)}}function rt(t,n,e){return Math.min(Math.max(t,n),e)}function Ke(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var On=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,zn=1,$n=3,Tn=function(t){on(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.imageRef=c.createRef(),e.videoRef=c.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var o=Mn(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=o.crop,i=o.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}else if(e.props.initialCroppedAreaPixels){var s=_n(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=s.crop,i=s.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}},e.computeSizes=function(){var r,o,a,i,s,u,l=e.imageRef.current||e.videoRef.current;if(l&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var d=e.containerRect.width/e.containerRect.height,g=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=e.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,b=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,C=l.offsetWidth<g||l.offsetHeight<b,f=g/b,p=void 0;if(C)switch(e.state.mediaObjectFit){default:case"contain":p=d>f?{width:e.containerRect.height*f,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/f};break;case"horizontal-cover":p={width:e.containerRect.width,height:e.containerRect.width/f};break;case"vertical-cover":p={width:e.containerRect.height*f,height:e.containerRect.height};break}else p={width:l.offsetWidth,height:l.offsetHeight};e.mediaSize=re(re({},p),{naturalWidth:g,naturalHeight:b}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var v=e.props.cropSize?e.props.cropSize:Sn(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==v.height||((u=e.state.cropSize)===null||u===void 0?void 0:u.width)!==v.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(v),e.setState({cropSize:v},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(v),v}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(n.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(n.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(n.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(r){if(r.preventDefault(),!e.isTouching){var o=n.getMousePoint(r),a=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(a,o,{shouldUpdatePosition:!0}),e.props.onRotationChange){var i=e.gestureRotationStart+r.rotation;e.props.onRotationChange(i)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var o,a,i=r.x,s=r.y;e.dragStartPosition={x:i,y:s},e.dragStartCrop=re({},e.props.crop),(a=(o=e.props).onInteractionStart)===null||a===void 0||a.call(o)},e.onDrag=function(r){var o=r.x,a=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(o===void 0||a===void 0)){var i=o-e.dragStartPosition.x,s=a-e.dragStartPosition.y,u={x:e.dragStartCrop.x+i,y:e.dragStartCrop.y+s},l=e.props.restrictPosition?Ve(u,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):u;e.props.onCropChange(l)}}))},e.onDragStopped=function(){var r,o;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(o=(r=e.props).onInteractionEnd)===null||o===void 0||o.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var o=n.getMousePoint(r),a=yn(r).pixelY,i=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(i,o,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,u;return(u=(s=e.props).onInteractionStart)===null||u===void 0?void 0:u.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,u;return(u=(s=e.props).onInteractionEnd)===null||u===void 0?void 0:u.call(s)})},250)}},e.getPointOnContainer=function(r,o){var a=r.x,i=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(a-o.x),y:e.containerRect.height/2-(i-o.y)}},e.getPointOnMedia=function(r){var o=r.x,a=r.y,i=e.props,s=i.crop,u=i.zoom;return{x:(o+s.x)/u,y:(a+s.y)/u}},e.setNewZoom=function(r,o,a){var i=a===void 0?{}:a,s=i.shouldUpdatePosition,u=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var l=rt(r,e.props.minZoom,e.props.maxZoom);if(u){var d=e.getPointOnContainer(o,e.containerPosition),g=e.getPointOnMedia(d),b={x:g.x*l-d.x,y:g.y*l-d.y},C=e.props.restrictPosition?Ve(b,e.mediaSize,e.state.cropSize,l,e.props.rotation):b;e.props.onCropChange(C)}e.props.onZoomChange(l)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?Ve(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return xn(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(o,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(o,a)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(o,a)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var r=e.props.restrictPosition?Ve(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=On,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},n.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var r,o,a,i,s,u,l,d,g;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((u=this.props.crop)===null||u===void 0?void 0:u.x)||((l=e.crop)===null||l===void 0?void 0:l.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,r=e.cropSize,o=e.aspect;return r?r.width/r.height:o},n.prototype.getObjectFit=function(){var e,r,o,a;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,u=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,l=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,d=u/l;return d<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var r=n.getTouchPoint(e.touches[0]),o=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=Xt(r,o),this.lastPinchRotation=qt(r,o),this.onDragStart(Gt(r,o))},n.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=n.getTouchPoint(e.touches[0]),a=n.getTouchPoint(e.touches[1]),i=Gt(o,a);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=Xt(o,a),u=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(u,i,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var l=qt(o,a),d=r.props.rotation+(l-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=l})}},n.prototype.render=function(){var e=this,r=this.props,o=r.image,a=r.video,i=r.mediaProps,s=r.transform,u=r.crop,l=u.x,d=u.y,g=r.rotation,b=r.zoom,C=r.cropShape,f=r.showGrid,p=r.style,v=p.containerStyle,m=p.cropAreaStyle,h=p.mediaStyle,y=r.classes,E=y.containerClassName,M=y.cropAreaClassName,z=y.mediaClassName,$=this.state.mediaObjectFit;return c.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(D){return e.containerRef=D},"data-testid":"container",style:v,className:Ke("reactEasyCrop_Container",E)},o?c.createElement("img",re({alt:"",className:Ke("reactEasyCrop_Image",$==="contain"&&"reactEasyCrop_Contain",$==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",$==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",z)},i,{src:o,ref:this.imageRef,style:re(re({},h),{transform:s||"translate(".concat(l,"px, ").concat(d,"px) rotate(").concat(g,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):a&&c.createElement("video",re({autoPlay:!0,loop:!0,muted:!0,className:Ke("reactEasyCrop_Video",$==="contain"&&"reactEasyCrop_Contain",$==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",$==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",z)},i,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:re(re({},h),{transform:s||"translate(".concat(l,"px, ").concat(d,"px) rotate(").concat(g,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(a)?a:[{src:a}]).map(function(_){return c.createElement("source",re({key:_.src},_))})),this.state.cropSize&&c.createElement("div",{style:re(re({},m),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:Ke("reactEasyCrop_CropArea",C==="round"&&"reactEasyCrop_CropAreaRound",f&&"reactEasyCrop_CropAreaGrid",M)}))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:$n,minZoom:zn,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(c.Component);const we="img-crop",ct=1,Ie=.1,tt=0,Yt=-180,Vt=180,lt=1,Kt=.5,Jt=2,Ze=.01,Nn=c.forwardRef((t,n)=>{const{cropperRef:e,zoomSlider:r,rotationSlider:o,aspectSlider:a,showReset:i,resetBtnText:s,modalImage:u,aspect:l,minZoom:d,maxZoom:g,cropShape:b,showGrid:C,cropperProps:f}=t,[p,v]=c.useState(ct),[m,h]=c.useState(tt),[y,E]=c.useState(l),M=p!==ct||m!==tt||y!==l,z=()=>{v(ct),h(tt),E(l)},[$,_]=c.useState({x:0,y:0}),D=c.useRef({width:0,height:0,x:0,y:0}),P=c.useCallback((G,Y)=>{D.current=Y},[]);c.useImperativeHandle(n,()=>({rotation:m,cropPixelsRef:D,onReset:z}));const T="[display:flex] [align-items:center] [width:60%] [margin-inline:auto]",W="[display:flex] [align-items:center] [justify-content:center] [height:32px] [width:32px] [background:transparent] [border:0] [font-family:inherit] [font-size:18px] [cursor:pointer] disabled:[opacity:20%] disabled:[cursor:default]",L="[flex:1]";return q.jsxs(q.Fragment,{children:[q.jsx(Tn,Object.assign({},f,{ref:e,image:u,crop:$,zoom:p,rotation:m,aspect:y,minZoom:d,maxZoom:g,zoomWithScroll:r,cropShape:b,showGrid:C,onCropChange:_,onZoomChange:v,onRotationChange:h,onCropComplete:P,classes:{containerClassName:`${we}-container ![position:relative] [width:100%] [height:40vh] [&~section:first-of-type]:[margin-top:16px] [&~section:last-of-type]:[margin-bottom:16px]`,mediaClassName:`${we}-media`}})),r&&q.jsxs("section",{className:`${we}-control ${we}-control-zoom ${T}`,children:[q.jsx("button",{className:W,onClick:()=>v(+(p-Ie).toFixed(1)),disabled:p-Ie<d,children:"－"}),q.jsx(st,{className:L,min:d,max:g,step:Ie,value:p,onChange:v}),q.jsx("button",{className:W,onClick:()=>v(+(p+Ie).toFixed(1)),disabled:p+Ie>g,children:"＋"})]}),o&&q.jsxs("section",{className:`${we}-control ${we}-control-rotation ${T}`,children:[q.jsx("button",{className:`${W} [font-size:16px]`,onClick:()=>h(m-lt),disabled:m===Yt,children:"↺"}),q.jsx(st,{className:L,min:Yt,max:Vt,step:lt,value:m,onChange:h}),q.jsx("button",{className:`${W} [font-size:16px]`,onClick:()=>h(m+lt),disabled:m===Vt,children:"↻"})]}),a&&q.jsxs("section",{className:`${we}-control ${we}-control-aspect ${T}`,children:[q.jsx("button",{className:W,onClick:()=>E(+(y-Ze).toFixed(2)),disabled:y-Ze<Kt,children:"↕️"}),q.jsx(st,{className:L,min:Kt,max:Jt,step:Ze,value:y,onChange:E}),q.jsx("button",{className:W,onClick:()=>E(+(y+Ze).toFixed(2)),disabled:y+Ze>Jt,children:"↔️"})]}),i&&(r||o||a)&&q.jsx($r,{className:"[bottom:20px] [position:absolute]",style:M?{}:{opacity:.3,pointerEvents:"none"},onClick:z,children:s})]})});var An=c.memo(Nn);function Fn(t,n){n===void 0&&(n={});var e=n.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",e==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var Wn=".visible{visibility:visible}.grid{display:grid}.\\[align-items\\:center\\]{align-items:center}.\\[background\\:transparent\\]{background:transparent}.\\[border\\:0\\]{border:0}.\\[bottom\\:20px\\]{bottom:20px}.\\[cursor\\:pointer\\]{cursor:pointer}.\\[display\\:flex\\]{display:flex}.\\[flex\\:1\\]{flex:1}.\\[font-family\\:inherit\\]{font-family:inherit}.\\[font-size\\:16px\\]{font-size:16px}.\\[font-size\\:18px\\]{font-size:18px}.\\[height\\:32px\\]{height:32px}.\\[height\\:40vh\\]{height:40vh}.\\[justify-content\\:center\\]{justify-content:center}.\\[margin-inline\\:auto\\]{margin-inline:auto}.\\[position\\:absolute\\]{position:absolute}.\\!\\[position\\:relative\\]{position:relative!important}.\\[width\\:100\\%\\]{width:100%}.\\[width\\:32px\\]{width:32px}.\\[width\\:60\\%\\]{width:60%}.disabled\\:\\[cursor\\:default\\]:disabled{cursor:default}.disabled\\:\\[opacity\\:20\\%\\]:disabled{opacity:20%}.\\[\\&\\~section\\:first-of-type\\]\\:\\[margin-top\\:16px\\]~section:first-of-type{margin-top:16px}.\\[\\&\\~section\\:last-of-type\\]\\:\\[margin-bottom\\:16px\\]~section:last-of-type{margin-bottom:16px}";Fn(Wn,{insertAt:"top"});const Ln=un(Nr,"4.23.0")===-1?"visible":"open",We=(t,n,e)=>n in t?(console.error(`\`${n}\` is deprecated, please use \`${e}\` instead`),t[n]):t[e],kn=c.forwardRef((t,n)=>{const{quality:e=.4,fillColor:r="white",zoomSlider:o=!0,rotationSlider:a=!1,aspectSlider:i=!1,showReset:s=!1,resetText:u,aspect:l=1,minZoom:d=1,maxZoom:g=3,cropShape:b="rect",showGrid:C=!1,cropperProps:f,modalClassName:p,modalTitle:v,modalWidth:m,modalOk:h,modalCancel:y,onModalOk:E,onModalCancel:M,modalProps:z,beforeCrop:$,children:_}=t,D=We(t,"zoom","zoomSlider")||!0,P=We(t,"rotate","rotationSlider")||!1,T=We(t,"shape","cropShape")||"rect",W=We(t,"grid","showGrid")||!1;"onUploadFail"in t&&console.error("`onUploadFail` is removed, because the only way it is called, is when the file is rejected by beforeUpload"),We(t,"modalMaskTransitionName","modalProps.maskTransitionName"),We(t,"modalTransitionName","modalProps.transitionName");const L=c.useRef({});L.current.onModalOk=E,L.current.onModalCancel=M,L.current.beforeCrop=$;const G=c.useRef(null),Y=c.useCallback(N=>{var H;const k=document.createElement("canvas"),O=k.getContext("2d"),B=(((H=N==null?void 0:N.getRootNode)===null||H===void 0?void 0:H.call(N))||document).querySelector(`.${we}-media`),{width:A,height:I,x:Z,y:de}=G.current.cropPixelsRef.current;if(P&&G.current.rotation!==tt){const{naturalWidth:le,naturalHeight:U}=B,ve=G.current.rotation*(Math.PI/180),he=Math.abs(Math.sin(ve)),Ce=Math.abs(Math.cos(ve)),ee=le*Ce+U*he,ie=U*Ce+le*he;k.width=ee,k.height=ie,O.fillStyle=r,O.fillRect(0,0,ee,ie);const He=ee/2,Oe=ie/2;O.translate(He,Oe),O.rotate(ve),O.translate(-He,-Oe);const Ue=(ee-le)/2,nt=(ie-U)/2;O.drawImage(B,0,0,le,U,Ue,nt,le,U);const Xe=O.getImageData(0,0,ee,ie);k.width=A,k.height=I,O.putImageData(Xe,-Z,-de)}else k.width=A,k.height=I,O.fillStyle=r,O.fillRect(0,0,A,I),O.drawImage(B,Z,de,A,I,0,0,A,I);return k},[r,P]),[V,x]=c.useState(""),w=c.useRef(),R=c.useRef(),j=c.useCallback(N=>Ge(void 0,[N],void 0,function*({beforeUpload:H,file:k,resolve:O,reject:Q}){const B=k;if(typeof H!="function"){O(B);return}try{const A=yield H(k,[k]);O(A===!1?!1:A!==!0&&A||B)}catch(A){Q(A)}}),[]),me=c.useCallback(N=>(H,k)=>new Promise((O,Q)=>Ge(void 0,void 0,void 0,function*(){let B=H;if(typeof L.current.beforeCrop=="function")try{const I=yield L.current.beforeCrop(H,k);if(I===!1)return j({beforeUpload:N,file:H,resolve:O,reject:Q});I!==!0&&(B=I||H)}catch{return j({beforeUpload:N,file:H,resolve:O,reject:Q})}const A=new FileReader;A.addEventListener("load",()=>{typeof A.result=="string"&&x(A.result)}),A.readAsDataURL(B),w.current=()=>{var I,Z;x(""),G.current.onReset();let de=!1;(Z=(I=L.current).onModalCancel)===null||Z===void 0||Z.call(I,le=>{O(le),de=!0}),de||O(Ar.LIST_IGNORE)},R.current=I=>Ge(void 0,void 0,void 0,function*(){x(""),G.current.onReset();const Z=Y(I.target),{type:de,name:le,uid:U}=B;Z.toBlob(ve=>Ge(void 0,void 0,void 0,function*(){const he=new File([ve],le,{type:de});Object.assign(he,{uid:U}),j({beforeUpload:N,file:he,resolve:Ce=>{var ee,ie;O(Ce),(ie=(ee=L.current).onModalOk)===null||ie===void 0||ie.call(ee,Ce)},reject:Ce=>{var ee,ie;Q(Ce),(ie=(ee=L.current).onModalOk)===null||ie===void 0||ie.call(ee,Ce)}})}),de,e)})})),[Y,e,j]),ge=c.useCallback(N=>{const H=Array.isArray(N)?N[0]:N,k=H.props,{beforeUpload:O,accept:Q}=k,B=an(k,["beforeUpload","accept"]);return Object.assign(Object.assign({},H),{props:Object.assign(Object.assign({},B),{accept:Q||"image/*",beforeUpload:me(O)})})},[me]),ne=c.useMemo(()=>{const N={};return m!==void 0&&(N.width=m),h!==void 0&&(N.okText=h),y!==void 0&&(N.cancelText=y),N},[y,h,m]),be=`${we}-modal${p?` ${p}`:""}`,ce=(typeof window>"u"?"":window.navigator.language)==="zh-CN",pe=v||(ce?"编辑图片":"Edit image"),ae=u||(ce?"重置":"Reset");return q.jsxs(q.Fragment,{children:[ge(_),V&&q.jsx(Tr,Object.assign({},z,ne,{[Ln]:!0,title:pe,onCancel:w.current,onOk:R.current,wrapClassName:be,maskClosable:!1,destroyOnClose:!0,children:q.jsx(An,{ref:G,cropperRef:n,zoomSlider:D,rotationSlider:P,aspectSlider:i,showReset:s,resetBtnText:ae,modalImage:V,aspect:l,minZoom:d,maxZoom:g,cropShape:T,showGrid:W,cropperProps:f})}))]})});export{kn as I};
