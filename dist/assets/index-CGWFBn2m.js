import{r,F as l,u as g,o as w,j as e,S as j,b as i,I as d,B as f,c as y,s as c}from"./index-Cb_E7giR.js";function N(){const[m,x]=r.useState(""),[h,u]=r.useState("");l.useForm();let n=g();r.useState({values:null});const p=s=>{let a=s;a.uid=m,a.token=h,y.post("User/reset-password/",s).then(t=>{console.log(t),c.success(t.message),n("/")}).catch(t=>{c.error("Token Invalid or Expired! Please try again.")})},[o]=w();return r.useEffect(()=>{let s=o.get("uid");x(s);let a=o.get("token");u(a),console.log(s),console.log(a),s===null&&a===null&&n("/")}),e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"spin",children:e.jsx(j,{})}),children:e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"flex justify-center h-screen",children:[e.jsx("div",{className:"hidden bg-cover lg:block lg:w-5/6",style:{backgroundImage:`url(${i.pageWise.login.loginBG})`},children:e.jsx("div",{className:"flex items-center h-full px-10 bg-gray-900 bg-opacity-40",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"flex text-2xl font-bold text-white sm:text-3xl",children:["Pezala - ",e.jsx("p",{className:"font-thin pl-2",children:"Made for IOT"})]}),e.jsx("p",{className:"max-w-xl mt-3 text-gray-300",children:"IoT allows devices to exchange data with other devices and systems over the internet."})]})})}),e.jsx("div",{className:"flex items-center w-full max-w-md px-6 mx-auto lg:w-2/6",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mx-auto mb-20",children:e.jsx("img",{className:"w-auto h-[4rem]",src:i.common.LogoWithTitle,alt:""})}),e.jsx("p",{className:"text-2xl font-bold text-start text-gray-600",children:"Enter New Password"}),e.jsx("p",{className:"mt-1 text-gray-500  text-start",children:"Update your password"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs(l,{name:"forgotPass",onFinish:p,layout:"vertical",children:[e.jsx(l.Item,{name:"password",label:"Password",style:{width:"100%",marginTop:"1vh"},rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0,children:e.jsx(d.Password,{placeholder:"Create new password",size:"large",style:{width:"100%"},allowClear:!0})}),e.jsx(l.Item,{name:"confirm_password",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,style:{width:"100%",marginTop:"1vh"},rules:[{required:!0,message:"Please confirm your password!"},({getFieldValue:s})=>({validator(a,t){return!t||s("password")===t?Promise.resolve():Promise.reject(new Error("The new password that you entered do not match!"))}})],children:e.jsx(d.Password,{placeholder:"Confirm new password",size:"large",style:{width:"100%"},allowClear:!0})}),e.jsx(l.Item,{children:e.jsx(f,{className:"w-full mt-2",htmlType:"submit",type:"primary",size:"large",children:"Change Password"})})]}),e.jsxs("p",{className:"mt-6 text-sm text-center text-gray-400",children:["Return to Sign In?"," ",e.jsx("a",{onClick:()=>{n("/")},className:"text-primary cursor-pointer font-bold focus:outline-none focus:underline hover:underline",children:"Sign In"}),"."]})]})]})})]})})})}export{N as default};
