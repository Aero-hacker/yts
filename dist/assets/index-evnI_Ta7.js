import{a1 as ce,r,ae as re,a4 as de,w as Y,p as me,v as pe,q as ue,a2 as he,t as $,C as ge,a5 as xe,a6 as fe,J as ye,_ as be,j as e,B as S,M as W,c as q,d as N,s as U,F as y,L as X,I as _,ac as ae,X as G,Q as J,aa as H,U as Ce,u as je,N as A,a9 as ne}from"./index-Cb_E7giR.js";import{h as T}from"./moment-BH_gi4k_.js";import{E as Q,D as Z}from"./EditOutlined-BlqpfEp8.js";import{P as k}from"./PlusOutlined-DmT80J4H.js";const we={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},Ie=we,Se=ce.createContext({}),ie=Se;var De=function(n,t){var a={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&t.indexOf(l)<0&&(a[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(n);s<l.length;s++)t.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(n,l[s])&&(a[l[s]]=n[l[s]]);return a};const $e=n=>de(n).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function Ne(n,t,a){const l=r.useMemo(()=>t||$e(a),[t,a]);return r.useMemo(()=>l.map(d=>{var{span:o}=d,i=De(d,["span"]);return Object.assign(Object.assign({},i),{span:typeof o=="number"?o:re(n,o)})}),[l,n])}function le(n,t,a){let l=n,s=!1;return(a===void 0||a>t)&&(l=Object.assign(Object.assign({},n),{span:t}),s=a!==void 0),[l,s]}function Ee(n,t){const a=[];let l=[],s=t,d=!1;return n.filter(o=>o).forEach((o,i)=>{const h=o==null?void 0:o.span,c=h||1;if(i===n.length-1){const[p,x]=le(o,s,h);d=d||x,l.push(p),a.push(l);return}if(c<s)s-=c,l.push(o);else{const[p,x]=le(o,s,c);d=d||x,l.push(p),a.push(l),s=t,l=[]}}),[a,d]}const Oe=(n,t)=>{const[a,l]=r.useMemo(()=>Ee(t,n),[t,n]);return a},Me=n=>{let{children:t}=n;return t},ve=Me;function se(n){return n!=null}const qe=n=>{const{itemPrefixCls:t,component:a,span:l,className:s,style:d,labelStyle:o,contentStyle:i,bordered:h,label:c,content:p,colon:x,type:m}=n,f=a;return h?r.createElement(f,{className:Y({[`${t}-item-label`]:m==="label",[`${t}-item-content`]:m==="content"},s),style:d,colSpan:l},se(c)&&r.createElement("span",{style:o},c),se(p)&&r.createElement("span",{style:i},p)):r.createElement(f,{className:Y(`${t}-item`,s),style:d,colSpan:l},r.createElement("div",{className:`${t}-item-container`},(c||c===0)&&r.createElement("span",{className:Y(`${t}-item-label`,{[`${t}-item-no-colon`]:!x}),style:o},c),(p||p===0)&&r.createElement("span",{className:Y(`${t}-item-content`),style:i},p)))},F=qe;function V(n,t,a){let{colon:l,prefixCls:s,bordered:d}=t,{component:o,type:i,showLabel:h,showContent:c,labelStyle:p,contentStyle:x}=a;return n.map((m,f)=>{let{label:j,children:v,prefixCls:w=s,className:z,style:P,labelStyle:D,contentStyle:b,span:u=1,key:g}=m;return typeof o=="string"?r.createElement(F,{key:`${i}-${g||f}`,className:z,style:P,labelStyle:Object.assign(Object.assign({},p),D),contentStyle:Object.assign(Object.assign({},x),b),span:u,colon:l,component:o,itemPrefixCls:w,bordered:d,label:h?j:null,content:c?v:null,type:i}):[r.createElement(F,{key:`label-${g||f}`,className:z,style:Object.assign(Object.assign(Object.assign({},p),P),D),span:1,colon:l,component:o[0],itemPrefixCls:w,bordered:d,label:j,type:"label"}),r.createElement(F,{key:`content-${g||f}`,className:z,style:Object.assign(Object.assign(Object.assign({},x),P),b),span:u*2-1,component:o[1],itemPrefixCls:w,bordered:d,content:v,type:"content"})]})}const ze=n=>{const t=r.useContext(ie),{prefixCls:a,vertical:l,row:s,index:d,bordered:o}=n;return l?r.createElement(r.Fragment,null,r.createElement("tr",{key:`label-${d}`,className:`${a}-row`},V(s,n,Object.assign({component:"th",type:"label",showLabel:!0},t))),r.createElement("tr",{key:`content-${d}`,className:`${a}-row`},V(s,n,Object.assign({component:"td",type:"content",showContent:!0},t)))):r.createElement("tr",{key:d,className:`${a}-row`},V(s,n,Object.assign({component:o?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},Pe=ze,_e=n=>{const{componentCls:t,labelBg:a}=n;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${$(n.lineWidth)} ${n.lineType} ${n.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${$(n.lineWidth)} ${n.lineType} ${n.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${$(n.padding)} ${$(n.paddingLG)}`,borderInlineEnd:`${$(n.lineWidth)} ${n.lineType} ${n.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:n.colorTextSecondary,backgroundColor:a,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${$(n.paddingSM)} ${$(n.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${$(n.paddingXS)} ${$(n.padding)}`}}}}}},Be=n=>{const{componentCls:t,extraColor:a,itemPaddingBottom:l,colonMarginRight:s,colonMarginLeft:d,titleMarginBottom:o}=n;return{[t]:Object.assign(Object.assign(Object.assign({},ue(n)),_e(n)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:o},[`${t}-title`]:Object.assign(Object.assign({},he),{flex:"auto",color:n.titleColor,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG,lineHeight:n.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:a,fontSize:n.fontSize},[`${t}-view`]:{width:"100%",borderRadius:n.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:l},"&:last-child":{borderBottom:"none"}},[`${t}-item-label`]:{color:n.colorTextTertiary,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${$(d)} ${$(s)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:n.contentColor,fontSize:n.fontSize,lineHeight:n.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:n.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:n.paddingXS}}}})}},Le=n=>({labelBg:n.colorFillAlter,titleColor:n.colorText,titleMarginBottom:n.fontSizeSM*n.lineHeightSM,itemPaddingBottom:n.padding,colonMarginRight:n.marginXS,colonMarginLeft:n.marginXXS/2,contentColor:n.colorText,extraColor:n.colorText}),Te=me("Descriptions",n=>{const t=pe(n,{});return Be(t)},Le);var Ue=function(n,t){var a={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&t.indexOf(l)<0&&(a[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,l=Object.getOwnPropertySymbols(n);s<l.length;s++)t.indexOf(l[s])<0&&Object.prototype.propertyIsEnumerable.call(n,l[s])&&(a[l[s]]=n[l[s]]);return a};const oe=n=>{const{prefixCls:t,title:a,extra:l,column:s,colon:d=!0,bordered:o,layout:i,children:h,className:c,rootClassName:p,style:x,size:m,labelStyle:f,contentStyle:j,items:v}=n,w=Ue(n,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:z,direction:P,descriptions:D}=r.useContext(ge),b=z("descriptions",t),u=xe(),g=r.useMemo(()=>{var M;return typeof s=="number"?s:(M=re(u,Object.assign(Object.assign({},Ie),s)))!==null&&M!==void 0?M:3},[u,s]),C=Ne(u,v,h),I=fe(m),O=Oe(g,C),[B,R,E]=Te(b),L=r.useMemo(()=>({labelStyle:f,contentStyle:j}),[f,j]);return B(r.createElement(ie.Provider,{value:L},r.createElement("div",Object.assign({className:Y(b,D==null?void 0:D.className,{[`${b}-${I}`]:I&&I!=="default",[`${b}-bordered`]:!!o,[`${b}-rtl`]:P==="rtl"},c,p,R,E),style:Object.assign(Object.assign({},D==null?void 0:D.style),x)},w),(a||l)&&r.createElement("div",{className:`${b}-header`},a&&r.createElement("div",{className:`${b}-title`},a),l&&r.createElement("div",{className:`${b}-extra`},l)),r.createElement("div",{className:`${b}-view`},r.createElement("table",null,r.createElement("tbody",null,O.map((M,te)=>r.createElement(Pe,{key:te,index:te,colon:d,prefixCls:b,vertical:i==="vertical",bordered:o,row:M}))))))))};oe.Item=ve;const K=oe;var Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M396 512a112 112 0 10224 0 112 112 0 10-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"eye",theme:"filled"};const Ae=Re;var Ye=function(t,a){return r.createElement(ye,be({},t,{ref:a,icon:Ae}))},He=r.forwardRef(Ye);const ee=He,ke=({key:n,data:t,onEquipmentSelected:a,selectedEquipment:l,getEquipmentslist:s,setOpenEquipmentForm:d})=>{const[o,i]=r.useState(!1),h=()=>{q.delete(`${N.Configuration.Equipment.Delete}${t.EquipmentID}`).then(p=>{U.success("Equipment Deleted Successfully"),console.log(p),i(!1),s()}).catch(p=>console.log(p))},c=[{key:"1",label:"Equipment Name",children:t.EquipmentName,span:4},{key:"2",label:"Description",children:t.Description,span:4},{key:"3",label:"Created Date",children:T(t.DtCrte).format("MMMM Do YYYY"),span:4},{key:"4",label:"Updated Date",children:T(t.DtChd).format("MMMM Do YYYY"),span:4},{key:"5",label:"Action",children:e.jsxs(e.Fragment,{children:[e.jsx(S,{type:"primary",size:"medium",icon:e.jsx(Q,{}),style:{width:"100px",marginRight:"1rem"},onClick:()=>{d({status:!0,type:"Update",parentId:t.EquipmentID,data:t})},children:"Update"}),e.jsx(S,{type:"primary",size:"medium",icon:e.jsx(Z,{}),danger:!0,style:{width:"100px"},onClick:()=>{h()},children:"Delete"})]})}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`flex flex-row gap-2 items-center bg-white border-solid ${l===t.EquipmentID?"border-primary bg-primary_light text-primary":"border-gray-200 "} rounded-xl p-4 py-3 pl-5 `,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",fill:"currentColor",class:"bi bi-box-fill",viewBox:"0 0 16 16",children:e.jsx("path",{"fill-rule":"evenodd",d:"M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.004-.001.274-.11a.75.75 0 0 1 .558 0l.274.11.004.001zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339Z"})}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("p",{className:"text-md w-full mb-1 font-bold",children:t.EquipmentName}),e.jsx("span",{className:"text-primary text-sm font-semibold",children:t.Description})]}),e.jsx(ee,{style:{fontSize:"22px",padding:"0.5rem",cursor:"pointer"},onClick:()=>{i(!0)}}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",fill:"currentColor",className:"bi bi-chevron-right",viewBox:"0 0 16 16",style:{padding:"0.5rem",cursor:"pointer"},onClick:()=>{a(t),console.log("Equipment Selected",t)},children:e.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"})})]}),e.jsx(W,{title:"Equipment",width:800,open:o,onOk:()=>{i(!1)},onCancel:()=>{i(!1)},footer:(p,{OkBtn:x,CancelBtn:m})=>e.jsx(e.Fragment,{}),children:e.jsx(K,{title:"Equipment Data",bordered:!0,items:c,column:{xs:1,sm:2,md:3,lg:3,xl:4,xxl:4}})})]})},Fe=({data:n,onComponentSelected:t,selectedComponent:a,level:l,getEquipmentslist:s,setOpenComponentForm:d})=>{const[o,i]=r.useState(!1),[h,c]=r.useState([]),p=m=>{q.delete(`${N.Configuration.Component.Delete}${m}`).then(f=>{U.success("Component Deleted Successfully"),console.log(f),i(!1),s()}).catch(f=>console.log(f))};function x(m){c([{key:"1",label:"Component Name",children:m.ComponentName,span:4},{key:"2",label:"Model Number",children:m.ModelNumber,span:4},{key:"3",label:"Component Type",children:m.ComponentType,span:4},{key:"4",label:"Origin Country",children:m.CountryOrigin,span:4},{key:"5",label:"Created Date",children:T(m.DtCrte).format("MMMM Do YYYY"),span:4},{key:"6",label:"Updated Date",children:T(m.DtChd).format("MMMM Do YYYY"),span:4},{key:"7",label:"Action",children:e.jsxs(e.Fragment,{children:[e.jsx(S,{type:"primary",size:"medium",icon:e.jsx(Q,{}),style:{width:"100px",marginRight:"1rem"},onClick:()=>{d({status:!0,type:"Update",parentId:m.ComponentID,data:m})},children:"Update"}),e.jsx(S,{type:"primary",size:"medium",icon:e.jsx(Z,{}),danger:!0,style:{width:"100px"},onClick:()=>{p(m.ComponentID)},children:"Delete"})]})}])}return e.jsxs(e.Fragment,{children:[n.Comp.map((m,f)=>e.jsxs("div",{className:`flex flex-row gap-4 items-center bg-white border-solid ${a===m.ComponentID?"border-primary bg-primary_light text-primary":"border-gray-200 "} rounded-xl p-4 py-3 pl-5 cursor-pointer`,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"33",height:"33",fill:"currentColor",class:"bi bi-box-seam",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"})}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("span",{className:"text-md w-full mb-1 font-medium",children:m.ComponentName}),e.jsx("p",{className:"text-primary text-sm font-semibold",children:m.ModelNumber})]}),e.jsx(ee,{style:{fontSize:"22px",padding:"0.5rem",cursor:"pointer"},onClick:()=>{x(m),i(!0)}}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-chevron-right",viewBox:"0 0 16 16",onClick:()=>{t(n,l,m),console.log("Component Selected",m)},children:e.jsx("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"})})]})),e.jsx(W,{title:"Component",width:800,open:o,onOk:()=>{i(!1)},onCancel:()=>{i(!1)},footer:(m,{OkBtn:f,CancelBtn:j})=>e.jsx(e.Fragment,{}),children:e.jsx(K,{title:"Component Data",bordered:!0,items:h,column:{xs:1,sm:2,md:3,lg:3,xl:4,xxl:4}})})]})},Ve=({setOpenEquipmentForm:n,openEquipmentForm:t,getEquipmentslist:a})=>{const[l]=y.useForm(),s=i=>{i.User=G(),i.STUDENT_ID=J(),i.Project_ID=H();let h=t.type==="Create"?N.Configuration.Equipment.Create:`${N.Configuration.Equipment.Edit}${t.data.EquipmentID}/`;q.post(h,i).then(()=>{U.success(`Equipment ${t.type==="Create"?"Added":"Updated"} Successfully`),a(),l.resetFields(),n(c=>({...c,status:!1,type:""}))}).catch(c=>console.log(c)).finally(()=>{})};function d(){l.setFieldsValue({EquipmentName:t.data.EquipmentName,Description:t.data.Description})}let o=!0;return o&&(l.resetFields(),o=!1),t.type==="Update"&&d(),e.jsx(e.Fragment,{children:e.jsx(X,{title:`${t.type} a Equipment`,onClose:()=>n(i=>({...i,status:!1,type:""})),open:t.status,children:e.jsxs(y,{name:"equipment_form",onFinish:s,layout:"vertical",form:l,children:[e.jsx(y.Item,{label:"Equipment Name",name:"EquipmentName",rules:[{required:!0,message:"Please input the Equipment Name!"}],children:e.jsx(_,{size:"large"})}),e.jsx(y.Item,{label:"Equipment Description",name:"Description",rules:[{required:!0,message:"Please input Description!"}],children:e.jsx(ae,{size:"large"})}),e.jsx(y.Item,{children:e.jsx(S,{size:"large",className:"w-full",type:"primary",htmlType:"submit",children:"Submit"})})]})})})},We=({setOpenComponentForm:n,openComponentForm:t,getEquipmentslist:a})=>{const[l]=y.useForm(),s=i=>{i.User=G(),i.STUDENT_ID=J(),i.Project_ID=H(),t.parentId.ComponentID&&(i.parent_component=t.parentId.ComponentID),t.parentId.EquipmentID&&(i.EquipmentID=t.parentId.EquipmentID);let h=t.type==="Create"?N.Configuration.Component.Create:`${N.Configuration.Component.Edit}${t.data.ComponentID}/`;q.post(h,i).then(()=>{U.success("Component Added Successfully"),l.resetFields(),a(),n(c=>({...c,status:!1,type:""}))}).catch(c=>console.log(c)).finally(()=>{})};function d(){l.setFieldsValue({ComponentName:t.data.ComponentName,ComponentType:t.data.ComponentType,ModelNumber:t.data.ModelNumber,CountryOrigin:t.data.CountryOrigin})}let o=!0;return o&&(l.resetFields(),o=!1),t.type==="Update"&&d(),e.jsx(e.Fragment,{children:e.jsx(X,{title:`${t.type} a Component`,onClose:()=>n(i=>({...i,status:!1,type:""})),open:t.status,children:e.jsxs(y,{name:"component_form",form:l,onFinish:s,layout:"vertical",children:[e.jsx(y.Item,{label:"Component Name",name:"ComponentName",rules:[{required:!0,message:"Please input the Component Name!"}],children:e.jsx(_,{size:"large"})}),e.jsx(y.Item,{label:"Component Type",name:"ComponentType",rules:[{required:!0,message:"Please input the Component Type!"}],children:e.jsx(_,{size:"large"})}),e.jsx(y.Item,{label:"Model Number",name:"ModelNumber",rules:[{required:!0,message:"Please input the Model Number!"}],children:e.jsx(_,{size:"large"})}),e.jsx(y.Item,{label:"Country Origin",name:"CountryOrigin",rules:[{required:!0,message:"Please input the Country Origin!"}],children:e.jsx(_,{size:"large"})}),e.jsx(y.Item,{children:e.jsx(S,{size:"large",className:"w-full",type:"primary",htmlType:"submit",children:"Submit"})})]})})})},Xe=({setOpenChipBoardForm:n,openChipBoardForm:t,getEquipmentslist:a})=>{const[l]=y.useForm(),[s,d]=r.useState([]);r.useEffect(()=>{q.get(`${N.Configuration.FormData.HardwareList}`).then(c=>{console.log(c);let p=[];c.data.map(x=>{p.push({label:x.hardware_name,value:x.hardware_id})}),console.log(p),d(p)}).catch(c=>console.log(c))},[]);const o=c=>{c.User=G(),c.STUDENT_ID=J(),c.Project_ID=H(),t.parentId.ComponentID&&(c.ComponentID=t.parentId.ComponentID),t.parentId.EquipmentID&&(c.EquipmentID=t.parentId.EquipmentID);let p=t.type==="Create"?N.Configuration.ChipBoard.Create:`${N.Configuration.ChipBoard.Edit}${t.data.ChipBoardID}/`;q.post(p,c).then(()=>{U.success("Chip Board Added Successfully"),l.resetFields(),a(),n(x=>({...x,status:!1,type:""}))}).catch(x=>console.log(x)).finally(()=>{})};function i(){l.setFieldsValue({hardware_id:t.data.hardware_id,Description:t.data.Description,ModelNumber:t.data.ModelNumber,CountryOrigin:t.data.CountryOrigin})}let h=!0;return h&&(l.resetFields(),h=!1),t.type==="Update"&&i(),e.jsx(e.Fragment,{children:e.jsx(X,{title:`${t.type} a Chip Board`,onClose:()=>n(c=>({...c,status:!1,type:""})),open:t.status,children:e.jsxs(y,{name:"chipboard_form",form:l,onFinish:o,layout:"vertical",children:[e.jsx(y.Item,{label:"Chip Board Name",name:"hardware_id",rules:[{required:!0,message:"Please input the Chip Board Name!"}],children:e.jsx(Ce,{size:"large",placeholder:"Please Select",options:s})}),e.jsx(y.Item,{label:"Chip Board Description",name:"Description",rules:[{required:!0,message:"Please input Description!"}],children:e.jsx(ae,{size:"large"})}),e.jsx(y.Item,{label:"Model Number",name:"ModelNumber",rules:[{required:!0,message:"Please input the Model Number!"}],children:e.jsx(_,{size:"large"})}),e.jsx(y.Item,{label:"Country Origin",name:"CountryOrigin",rules:[{required:!0,message:"Please input the Country Origin!"}],children:e.jsx(_,{size:"large"})}),e.jsx(y.Item,{children:e.jsx(S,{size:"large",className:"w-full",type:"primary",htmlType:"submit",children:"Submit"})})]})})})},Ge=({data:n,getEquipmentslist:t,setOpenChipBoardForm:a})=>{const[l,s]=r.useState(!1),d=()=>{q.delete(`${N.Configuration.ChipBoard.Delete}${n.ChipBoardID}`).then(i=>{U.success("Chip Board Deleted Successfully"),console.log(i),s(!1),t()}).catch(i=>console.log(i))},o=[{key:"1",label:"Hardware ID",children:n.hardware_id,span:4},{key:"2",label:"Model Number",children:n.ModelNumber,span:4},{key:"3",label:"Description",children:n.Description,span:4},{key:"4",label:"Country Origin",children:n.CountryOrigin,span:4},{key:"5",label:"Created Date",children:T(n.DtCrte).format("MMMM Do YYYY"),span:4},{key:"6",label:"Updated Date",children:T(n.DtChd).format("MMMM Do YYYY"),span:4},{key:"7",label:"Action",children:e.jsxs(e.Fragment,{children:[e.jsx(S,{type:"primary",size:"medium",icon:e.jsx(Q,{}),style:{width:"100px",marginRight:"1rem"},onClick:()=>{a({status:!0,type:"Update",parentId:n.ChipBoardID,data:n})},children:"Update"}),e.jsx(S,{type:"primary",size:"medium",icon:e.jsx(Z,{}),danger:!0,style:{width:"100px"},onClick:()=>{d()},children:"Delete"})]})}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row gap-4 items-center bg-white border-solid border-gray-200 rounded-xl p-4 py-3 pl-5 cursor-pointer",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"currentColor",className:"bi bi-back",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"})}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("span",{className:"text-md w-full mb-1 font-medium",children:n.hardware_id}),e.jsx("p",{className:"text-primary text-sm font-semibold",children:n.ModelNumber})]}),e.jsx(ee,{style:{fontSize:"22px",padding:"0.5rem",cursor:"pointer"},onClick:()=>{s(!0),console.log("Chip Board Data",n)}})]}),e.jsx(W,{title:"Chip Board",width:800,open:l,onOk:()=>{s(!1)},onCancel:()=>{s(!1)},footer:(i,{OkBtn:h,CancelBtn:c})=>e.jsx(e.Fragment,{}),children:e.jsx(K,{title:"Chip Board Data",bordered:!0,items:o,column:{xs:1,sm:2,md:3,lg:3,xl:4,xxl:4}})})]})},Je=()=>{je(),r.useEffect(()=>{w()},[]);const[n,t]=r.useState({status:!1,type:"",parentId:null}),[a,l]=r.useState({status:!1,type:"",parentId:null}),[s,d]=r.useState({status:!1,type:"",parentId:null}),[o,i]=r.useState([]),[h,c]=r.useState(null),[p,x]=r.useState(0);r.useState("loading"),r.useState(null),r.useState([]),r.useState({status:!1,type:"",parentId:null});const[m,f]=r.useState([]),[j,v]=r.useState([]);r.useEffect(()=>{console.log(o)},[o]);const w=()=>{q.get(`${N.Configuration.CompleteData}${H()}`).then(u=>{i(u.data),f([]),v([])}).catch(u=>console.log(u))},z=u=>{c(u.EquipmentID);let g=[],C=[];C.push([{Comp:u.components,Chip:u.chip_boards}]),g.push(null),console.log("compHierarchy",C),v([...g]),f(C)},P=(u,g,C)=>{console.log(u),console.log(C),x(C.ComponentID);let I=[],O=m;console.log("level",g),console.log("compHierarchy",O),g===j.length-1?(console.log("last"),I=j):(j.map((B,R)=>{R<=g&&I.push(B)}),I.push(null)),I[g]=C.ComponentID,O[g+1]=[{Comp:C.components,Chip:C.chip_boards}],I[g+1]===null||(I.push(null),O.push([])),v([...I]),f(O)};return e.jsxs(e.Fragment,{children:[e.jsx(A,{direction:"horizontal",className:"ml-2 mb-4 py-2 w-full text-xl font-regular items-center justify-between  bg-gray-50 rounded-xl border-solid border-gray-100",children:e.jsx("p",{className:"ml-4",children:"Configuration"})}),e.jsxs(A,{direction:"vertical",className:" w-full items-start overflow-auto",children:[e.jsxs(A,{className:"flex flex-row gap-4 justify-start items-start w-full",children:[e.jsx(D,{}),h?j.map((u,g)=>e.jsx(b,{level:g,SelectedEquipmentID:h,SelectedParentID:p,compHSelectedIndexes:j,data:g===0?h:j[g-1]},g)):null]}),e.jsx(Ve,{openEquipmentForm:n,setOpenEquipmentForm:t,getEquipmentslist:w}),e.jsx(We,{openComponentForm:a,setOpenComponentForm:l,getEquipmentslist:w}),e.jsx(Xe,{openChipBoardForm:s,setOpenChipBoardForm:d,getEquipmentslist:w})]})," "]});function D(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-[62vh] flex flex-col bg-gray-50 px-4 pt-2 pb-4 rounded-xl border-solid border-gray-100",children:[e.jsxs(A,{className:"justify-between items-center mb-3  w-[18rem]",children:[e.jsx("p",{className:"text-lg font-semibold",children:"Equipments"}),e.jsx(ne,{title:"Add new equipment",children:e.jsx(S,{onClick:()=>t({status:!0,type:"Create",parentId:null}),size:"large",type:"outlined",icon:e.jsx(k,{}),children:"Add"})})]}),e.jsx("div",{className:"flex flex-col gap-2 overflow-auto ",children:o.map((u,g)=>e.jsx(ke,{data:u,onEquipmentSelected:z,selectedEquipment:h,getEquipmentslist:w,setOpenEquipmentForm:t},g))})]})})}function b({level:u,data:g,SelectedEquipmentID:C,SelectedParentID:I,compHSelectedIndexes:O}){const[B,R]=r.useState([]);r.useEffect(()=>{R(m[u][0].Chip!=null?m[u][0].Chip:[])},[]);let E;return m[u][0].Comp[0]?E=m[u][0].Comp[0].parent_component!==null?E={ComponentID:m[u][0].Comp[0].parent_component}:E={EquipmentID:C}:O.length===1?E={EquipmentID:C}:E={ComponentID:I},e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-[55vh] flex flex-col bg-gray-50 px-4 pt-2 pb-4 rounded-xl border-solid border-gray-100",children:[e.jsxs(A,{className:"items-center mb-3  w-[20rem] bg-primary rounded-lg mt-2",children:[e.jsx(ne,{title:"Add new equipment",children:e.jsx(S,{className:"w-full",onClick:()=>{l({status:!0,type:"Create",parentId:E}),console.log("<---- Parent ID ---->",E)},size:"large",type:"primary",icon:e.jsx(k,{}),children:"Component"})}),e.jsx(S,{className:"w-full",onClick:()=>d({status:!0,type:"Create",parentId:E}),size:"large",type:"primary",icon:e.jsx(k,{}),children:"Chip Boards"})]}),e.jsxs("div",{className:"flex flex-col gap-2 overflow-auto ",children:[m[u][0].Comp.length!==0?e.jsx("p",{className:"text-sm",children:"Components"}):null,m[u].map((L,M)=>{if(L.Comp.length!==0)return e.jsx(Fe,{data:L,onComponentSelected:P,selectedComponent:O[u],level:u,getEquipmentslist:w,setOpenComponentForm:l},M)}),B.length!==0?e.jsx("p",{className:"text-sm",children:"Chip Board"}):null,B.map((L,M)=>e.jsx(Ge,{data:L,getEquipmentslist:w,setOpenChipBoardForm:d},M))]})]})})}},tt=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"max-w-8xl mx-auto py-4 px-3 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white flex flex-col items-center justify-center h-[75vh] p-6 rounded-xl shadow-[rgba(17,_17,_26,_0.1)_0px_0px_16px]",children:e.jsx(Je,{})})})});export{tt as default};
