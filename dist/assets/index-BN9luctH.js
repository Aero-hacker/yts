import{j as e,B as p,F as d,r as s,U as j,I as f,aa as w,X as g,Q as y,c as b,d as x,L as S}from"./index-Cb_E7giR.js";import{T as O}from"./Table-BWfrwmEE.js";import{E as N,D as T}from"./EditOutlined-BlqpfEp8.js";import"./styleChecker-CdUbCfc4.js";import"./addEventListener-BgwVifcY.js";import"./index-DvPUYAG9.js";import"./Pagination-CHtVKEwY.js";const E=[{title:"hardware_name",dataIndex:"hardware_name",key:"hardware_name"},{title:"model_name",dataIndex:"model_name",key:"model_name"},{title:"quantity",dataIndex:"quantity",key:"quantity"},{title:"type",dataIndex:"type",key:"type"},{title:"Total Pins",dataIndex:"number_of_pins",key:"number_of_pins"},{title:"Actions",dataIndex:"actions",key:"actions",render:i=>e.jsxs(e.Fragment,{children:[e.jsx(p,{size:"large",type:"text",icon:e.jsx(N,{})}),e.jsx(p,{size:"large",type:"text",danger:!0,icon:e.jsx(T,{})})]})}],D=({data:i})=>e.jsx(O,{dataSource:i,columns:E}),U=[{hardware_id:8,hardware_name:"IOT",model_name:"UNO R332",number_of_pins:"50",pin_diagram:"/media/pindiagram/ESP32_Pinout_Diagram.png",pin_number:{pin1:1,pin2:2},hardwaretype:"Procressor",data_sheet:"/media/datasheet/ESP32_Pinout_Diagram.png",features:{feature1:"value1",feature2:"value2"},hardware_configuration:"Sample configurationn",dtcrte:"2024-03-06",dtchd:"2024-03-25",usercrte:null,userchd:null,user:133},{hardware_id:7,hardware_name:"IOT",model_name:"UNO R332",number_of_pins:"50",pin_diagram:"/media/pindiagram/esp32-Board-with-30-pins-Pinout.png",pin_number:{pin1:1,pin2:2},hardwaretype:"Procressor",data_sheet:"/media/datasheet/ESP32_Pinout_Diagram_J31NAM0.png",features:{feature1:"value1",feature2:"value2"},hardware_configuration:"configurationn",dtcrte:"2024-02-16",dtchd:"2024-03-25",usercrte:null,userchd:null,user:133},{hardware_id:5,hardware_name:"IOT",model_name:"UNO R332",number_of_pins:"50",pin_diagram:"/media/pindiagram/esp32-Board-with-30-pins-Pinout_UOTGK8b.png",pin_number:{pin1:1,pin2:2},hardwaretype:"Procressor",data_sheet:"/media/datasheet/ESP32_Pinout_Diagram_T9OUFPi.png",features:{feature1:"value1",feature2:"value2"},hardware_configuration:"simple configurationn",dtcrte:"2024-02-07",dtchd:"2024-03-25",usercrte:null,userchd:null,user:133},{hardware_id:9,hardware_name:"IO dffd",model_name:"UNO rgrg",number_of_pins:"99",pin_diagram:null,pin_number:null,hardwaretype:null,data_sheet:null,features:null,hardware_configuration:"Diff Configuration",dtcrte:"2024-03-09",dtchd:"2024-03-25",usercrte:null,userchd:null,user:133},{hardware_id:6,hardware_name:"IOT",model_name:"UNO R332",number_of_pins:"50",pin_diagram:"/media/pindiagram/esp32-Board-with-30-pins-Pinout_YyYqCJU.png",pin_number:{pin1:1,pin2:2},hardwaretype:"Procressor",data_sheet:"/media/datasheet/ESP32_Pinout_Diagram_Mlpw8D4.png",features:{feature1:"value1",feature2:"value2"},hardware_configuration:"Hardware conifg",dtcrte:"2024-02-07",dtchd:"2024-03-25",usercrte:null,userchd:null,user:133},{hardware_id:10,hardware_name:"IOT Uno",model_name:"UNO R332",number_of_pins:"40",pin_diagram:null,pin_number:{pin1:1,pin2:2},hardwaretype:"Procressor",data_sheet:null,features:{feature1:"value1",feature2:"value2"},hardware_configuration:"Sample configuration",dtcrte:"2024-03-26",dtchd:"2024-03-26",usercrte:null,userchd:null,user:133},{hardware_id:11,hardware_name:"IOT",model_name:"UNO R332",number_of_pins:"40",pin_diagram:"/media/pindiagram/ESP32_pin_details-e1586188935940.webp",pin_number:{pin1:1,pin2:2},hardwaretype:"Procressor",data_sheet:"/media/datasheet/ESP32_Pinout_Diagram_caxsRrP.png",features:{feature1:"value1",feature2:"value2"},hardware_configuration:"Sample configuration",dtcrte:"2024-03-26",dtchd:"2024-03-26",usercrte:null,userchd:null,user:133},{hardware_id:12,hardware_name:"IOT",model_name:"UNO R332",number_of_pins:"40",pin_diagram:"/media/pindiagram/ESP32_pin_details-e1586188935940_pWVywqV.webp",pin_number:{pin1:1,pin2:2},hardwaretype:"Procressor",data_sheet:"/media/datasheet/ESP32_Pinout_Diagram_IHh84nK.png",features:{feature1:"value1",feature2:"value2"},hardware_configuration:"Sample configuration",dtcrte:"2024-03-26",dtchd:"2024-03-26",usercrte:null,userchd:null,user:133}],q=({setOpenModal:i,refresh:u})=>{const[c]=d.useForm(),[h,m]=s.useState([]),[_,l]=s.useState([]);s.useEffect(()=>{a()},[]);const a=()=>{l(o(U))},o=n=>n.map(t=>({value:t.hardware_id,label:`${t.hardware_name} - ${t.model_name}`})),I=n=>{const t=n.serial_numbers.map(v=>v.serial_number),r={...n,serial_number:t};delete r.serial_numbers,r.project_id=w(),r.user_id=g(),r.student_id=y(),console.log("Received values:",r),b.post(x.inventory.addItem,r).then().finally(()=>{u(),i(!1)})},P=n=>{const t=[];for(let r=0;r<n;r++)t.push(e.jsx(d.Item,{name:["serial_numbers",r,"serial_number"],label:`Serial Number ${r+1}`,rules:[{required:!0,message:"Please input the serial number!"}],children:e.jsx(f,{})},r));m(t)};return e.jsxs(d,{layout:"vertical",form:c,name:"Add Inventory Items",onFinish:I,children:[e.jsx(d.Item,{label:"Hardware",name:"hardware_id",rules:[{required:!0,message:"Please input the hardware ID!"}],children:e.jsx(j,{placeholder:"Select hardware",options:_})}),e.jsx(d.Item,{label:"Quantity",name:"quantity",rules:[{required:!0,message:"Please input the quantity!"}],children:e.jsx(f,{placeholder:"0",onChange:n=>P(n.target.value)})}),h,e.jsx(d.Item,{children:e.jsx(p,{className:"w-full",size:"large",type:"primary",htmlType:"submit",children:"Submit"})})]})},H=()=>{const[i,u]=s.useState(!1),[c,h]=s.useState([]);s.useEffect(()=>{m()},[]);const m=()=>{const l={project_id:w(),user_id:g(),student_id:y()};b.post(x.inventory.readinventoryHardware,l).then(a=>{let o=_(a.data);console.log(_(a.data)),h(o)})},_=l=>l.map((a,o)=>({key:o,hardware_name:a.hardware_info.hardware_name,model_name:a.hardware_info.model_name,type:a.hardware_info.hardwaretype,number_of_pins:a.hardware_info.number_of_pins,quantity:a.quantity,hardware_reference_id:a.hardware_reference_id,hardware_id:a.hardware_info.hardware_id}));return e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"items-center pb-5 flex flex-1 flex-row justify-between",children:[e.jsx("p",{className:"text-[20px] font-medium",children:"Inventory"}),e.jsx(p,{onClick:()=>u(!0),type:"primary",size:"large",children:"Add New Item"})]}),e.jsx(D,{data:c}),e.jsx(S,{title:"Basic Drawer",placement:"right",closable:!0,open:i,onClose:()=>u(!1),children:e.jsx(q,{setOpenModal:u,refresh:m})})]})})};export{H as default};
